Heirarchal state machine based high level api for server/client communication .

